#set($page_title="出库管理")
#set($selected_menu_id='menu_task_center_index')

<div class="main-content" id="mainContenter">
    <div class="breadcrumbs" id="breadcrumbs">
        <script type="text/javascript">
            try {
                ace.settings.check('breadcrumbs', 'fixed')
            } catch (e) {
            }
        </script>
        <ul class="breadcrumb">
            <li>
                <i class="ace-icon fa fa-home home-icon"></i>
                <a href="/index.html">首页</a>
            </li>
            <li>
                <a href="#">出入库管理</a>
            </li>
            <li>
                <a href="/repertory/out/list.html">出库管理</a>
            </li>
            <li class="active">
                #if($add == "add")
                    新增出库
                #else
                    编辑出库
                #end
            </li>


        </ul>
        <!-- /.breadcrumb -->
        <!-- /section:basics/content.searchbox -->
    </div>
    <div class="page-content">

        <style>
            .search-condition {
                margin-top: 5px;
                margin-bottom: 5px;
            }
        </style>
        <div class="page-content-area">
            <div class="row">
                <div class="col-xs-12">
                    <form class="form-horizontal" id="inOutForm" role="form">
                        <input type="hidden" id="id" name="id" value="$!{record.id}">

                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="customerId">* 客户名称:</label>

                            <div class="col-xs-9">
                                <input type="text" id="customerId" name="customerId"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.customerId}" #if($record.customerId)
                                       readonly
                                #end
                                       placeholder="请选择客户"/>
                            </div>
                        </div>


                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="receiverAddress"> *
                                客户地址:</label>

                            <div class="col-xs-9">
                                <input type="text" id="receiverAddress" name="receiverAddress"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.receiverAddress}" placeholder="请填写客户地址"/>
                            </div>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="contractId"> *
                                出库合同:</label>

                            <div class="col-xs-9">
                                <input type="text" id="contractId" name="contractId"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.contractId}" placeholder="请选择出库合同"/>
                            </div>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="telSign"> 联系电话:</label>

                            <div class="col-xs-9">
                                <input type="text" id="telSign" name="telSign"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.telSign}"
                                       placeholder="请填写联系电话"/>
                            </div>
                        </div>


                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="makeNum">* 发货方式:</label>

                            <div class="col-xs-9">
                                <select id="sendType" aVal="$!{record.sendType}" name="sendType" class="col-xs-12 ui-autocomplete-input">
                                </select>
                            </div>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="linkman"> 联系人:</label>

                            <div class="col-xs-9">
                                <input type="text" id="linkman" name="linkman"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.linkman}"
                                       placeholder="请填写联系人"/>
                            </div>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="storageId"> * 出库仓库:</label>

                            <div class="col-xs-9">
                                <select id="storageId" aVal="$!{record.storageId}" name="storageId" class="col-xs-12 ui-autocomplete-input">
                                    <option value="">请选择</option>
                                </select>
                            </div>
                        </div>


                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="postcode"> 邮编:</label>

                            <div class="col-xs-9">
                                <input type="text" id="postcode" name="postcode"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.postcode}"
                                       placeholder="请填写邮编"/>
                            </div>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="sender">* 发货人:</label>

                            <div class="col-xs-9">
                                <input type="text" id="sender" name="sender" class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.sender}"
                                       placeholder="发货人"/>
                            </div>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="fax`"> 传真:</label>

                            <div class="col-xs-9">
                                <input type="text" id="fax" name="fax"
                                       class="col-xs-12 ui-autocomplete-input"
                                       value="$!{record.fax}"
                                       placeholder="请填写传真"/>
                            </div>
                        </div>


                        <div class="form-group col-xs-6">
                            <label class="col-xs-3 control-label no-padding-right" for="note">备注:</label>

                            <div class="col-xs-9">
                                <textarea id="note" name="note" class="col-xs-12 ui-autocomplete-input">$!{record.note}</textarea>
                            </div>
                        </div>
                        <div class="form-group col-xs-12">
                            <button class="btn btn-primary btn-success btn-sm" type="button" id="addpart">
                                <i class="icon-search"></i>添加配件
                            </button>
                        </div>
                        <div class="form-group col-xs-12">
                            <table id="grid-table"></table>
                            <div id="grid-pager"></div>
                        </div>
                        <div class="form-group col-xs-12 clearfix form-actions align-right">
                            <button class="btn btn-sm btn-primary" type="submit" id="saveOut" name="saveOut">
                                保存
                            </button>
                            &nbsp; &nbsp; &nbsp;
                            <button class="btn btn-white btn-info " type="button"
                                    onclick="javaScript:window.history.go(-1)"
                                    id="closeAdd1">
                                返回
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/plug-in/sys/attr/listAttr.js?_dc=$!{staticVersion}"></script>
<script src="/plug-in/fusheng/contract/listContract.js?_dc=$!{staticVersion}"></script>
<script src="/plug-in/fusheng/customer/listcustomer.js?_dc=$!{staticVersion}"></script>
<script src="/plug-in/fusheng/part/listPart.js?_dc=$!{staticVersion}"></script>
<script src="/plug-in/fusheng/repertory/out/add.js?_dc=$!{staticVersion}"></script>

<!--addModal-->
<div class="modal fade cms-modal" id="selectPartModal" role="dialog" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" data-backdrop="static" data-keyboard="false"
     style="display: none; padding-left: 0px;">
    <div class="modal-content part-body">
        <form class="form-horizontal" id="deviceForm" role="form">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">选择配件</h4>
            </div>
            <div class="modal-body">
                <fieldset>
                    <input type="hidden" id="recordId" name="recordId">

                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="partId">* 选择配件:</label>

                        <div class="col-xs-9">
                            <input type="text" id="partId" name="partId" class="col-xs-9 ui-autocomplete-input"
                                   value="" placeholder="选择配件" style="width: 400px"/>
                            <input type="hidden" id="partCode" name="partCode">
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="partCode"><span class="red">*</span>
                            配件编号:</label>

                        <div class="col-xs-9">
                            <input type="text" id="partName" name="partName" class="col-xs-9 ui-autocomplete-input"
                                   value="" readonly
                                   placeholder="配件名称"/>
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="leftCount"> 剩余数量:</label>

                        <div class="col-xs-9">
                            <input type="text" id="leftCount" name="leftCount" class="col-xs-9 ui-autocomplete-input"
                                   readonly value="" placeholder="剩余数量"/>
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="price"> 单价:</label>

                        <div class="col-xs-9">
                            <input type="text" id="price" name="price" class="col-xs-9 ui-autocomplete-input"
                                   value="" placeholder="单价" onkeyup="value=value.replace(/[^\d.]/g,'')"/>
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="leftCount"><span
                                class="red">*</span> 数量:</label>

                        <div class="col-xs-9">
                            <input type="text" id="num" name="num" class="col-xs-9 ui-autocomplete-input"
                                   value="" placeholder="数量" onkeyup="value=value.replace(/[^\d]/g,'')"/>
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="price"><span class="red">*</span>
                            单位:</label>

                        <div class="col-xs-9">
                            <input type="text" id="unit" name="unit" class="col-xs-9 ui-autocomplete-input"
                                   value="" placeholder="单位"/>
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-xs-3 control-label no-padding-right" for="price"> 总价:</label>

                        <div class="col-xs-9">
                            <input type="text" id="totalAmt" name="totalAmt" class="col-xs-9 ui-autocomplete-input"
                                   readonly value="" placeholder="总价"/>
                        </div>
                    </div>
                    <input type="hidden" id="partName" name="partName">
                </fieldset>
            </div>
            <div class="modal-footer">
                <button class="btn btn-sm btn-primary" type="button" id="add-part" name="add-part">确定</button>
                &nbsp; &nbsp; &nbsp;
                <button class="btn btn-white btn-info" type="button" id="closeAdd">关闭
                </button>
            </div>
        </form>
    </div>
</div>

